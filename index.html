<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Use State</title>
    <script src="src/index.js" type="module"></script>
    <style>
        body,
        pre {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif
        }

        pre {
            border: 1px solid red;
            padding: 10px;
        }
    </style>
</head>

<body>
    <center>
        <h1>UseState</h1>
        <p>A copy of the useState hook in React</p>
    </center>
    <pre>
        &lt;!DOCTYPE html&gt;
        &lt;html lang=&quot;en&quot;&gt;
        &lt;head&gt;
            &lt;meta charset=&quot;UTF-8&quot;&gt;
            &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
            &lt;title&gt;Use State&lt;/title&gt;
            &lt;script src=&quot;src/index.js&quot; type=&quot;module&quot;&gt;&lt;/script&gt;
        &lt;/head&gt;
        &lt;body&gt;
        &lt;/body&gt;
        &lt;/html&gt;   </pre>
    <pre>
        // src/index.js
        import "./UseState.js";
        import Component from "./Component.js";
        let component = new Component()</pre>

    <pre>
        // src/UseState.js
        Object.prototype.useState = function (value){
            if (!this.state) this.state = {}
            let n = Object.keys(this.state).length
            this.state[n] = value
            return [
                (typeof value == 'undefined') ? value : JSON.parse(JSON.stringify(this.state[n])),
                (newState) => {
                    this.state[n] = newState
                },
                ()=> {
                    return (typeof this.state[n] == 'undefined') ? this.state[n] : JSON.parse(JSON.stringify(this.state[n]))
                }
            ]
        }</pre>
    <h2>Almost React sintax</h2>
    <pre>
        // src/Component.js
        export default function Component() {
            let [name, setName, getName] = this.useState('Jhon');
            console.log(name, getName()); //Jhon Jhon
            console.log(this.state);//{0: 'Jhon'}
            setName('Peter')
            console.log(name, getName());//Jhon Peter
        }</pre>

</body>

</html>